{"ast":null,"code":"import _slicedToArray from\"C:/Users/jb_kr/homework/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router';import{useNavigate}from'react-router';import{API_KEY,API_URL,IMAGE_BASE_URL}from'../../Config';import MainImage from'../MainImage/MainImage';import MovieInfo from'./MovieInfo';import{Button,Row}from'antd';import GridCard from'../Commons/GridCard';import AntCard from'../Commons/AntCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=function Detail(){var _useParams=useParams(),movieId=_useParams.movieId;var navigate=useNavigate();// console.log(movieId);\n// [state] =================================================================================================\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),Movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),Casts=_useState4[0],setCasts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),ActorToggle=_useState6[0],setActorToggle=_useState6[1];useEffect(function(){// [영화 정보]\nvar endpointInfo=\"\".concat(API_URL).concat(movieId,\"?api_key=\").concat(API_KEY);// console.log(endpointInfo);\n// [출연진] 영화에 출연한 배우들의 정보\nvar endpointCrew=\"\".concat(API_URL).concat(movieId,\"/credits?api_key=\").concat(API_KEY);// console.log('endpointCrew >>', endpointCrew);\nfetch(endpointInfo).then(function(response){return response.json();}).then(function(response){// console.log(response)\nsetMovie(response);});fetch(endpointCrew).then(function(response){return response.json();}).then(function(response){console.log(response.cast);setCasts(response.cast);});},[]);// 버튼\nfunction handleUseHistory(){navigate('/homework');}function toggleActorView(){setActorToggle(!ActorToggle);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MainImage,{image:\"\".concat(IMAGE_BASE_URL,\"w1280\").concat(Movie.poster_path),title:Movie.title,overview:Movie.overview}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'20px'},children:/*#__PURE__*/_jsx(Button,{onClick:handleUseHistory,children:\"\\uC601\\uD654 \\uBAA9\\uB85D\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'85%',margin:'20px auto'},children:[/*#__PURE__*/_jsx(MovieInfo,{movie:Movie}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',margin:'20px 0'},children:/*#__PURE__*/_jsx(Button,{onClick:toggleActorView,children:\"\\uBC30\\uC6B0 \\uBAA9\\uB85D\"})}),ActorToggle&&/*#__PURE__*/_jsx(Row,{gutter:[10,10],children:Casts.map(function(cast,index){return cast.profile_path&&/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(AntCard,{path:\"\".concat(IMAGE_BASE_URL,\"w400\").concat(cast.profile_path),castName:cast.name})},index);})})]})]});};export default Detail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","API_KEY","API_URL","IMAGE_BASE_URL","MainImage","MovieInfo","Button","Row","GridCard","AntCard","jsx","_jsx","jsxs","_jsxs","Detail","_useParams","movieId","navigate","_useState","_useState2","_slicedToArray","Movie","setMovie","_useState3","_useState4","Casts","setCasts","_useState5","_useState6","ActorToggle","setActorToggle","endpointInfo","concat","endpointCrew","fetch","then","response","json","console","log","cast","handleUseHistory","toggleActorView","children","image","poster_path","title","overview","style","textAlign","marginTop","onClick","width","margin","movie","gutter","map","index","profile_path","Fragment","path","castName","name"],"sources":["C:/Users/jb_kr/homework/src/components/view/Detail/Detail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport { useNavigate } from 'react-router';\r\nimport { API_KEY, API_URL, IMAGE_BASE_URL } from '../../Config';\r\nimport MainImage from '../MainImage/MainImage';\r\nimport MovieInfo from './MovieInfo';\r\nimport { Button, Row } from 'antd';\r\nimport GridCard from '../Commons/GridCard';\r\nimport AntCard from '../Commons/AntCard';\r\n\r\nconst Detail = () => {\r\n  const { movieId } = useParams();\r\n  const navigate = useNavigate();\r\n  // console.log(movieId);\r\n\r\n  // [state] =================================================================================================\r\n  const [Movie, setMovie] = useState({});\r\n  const [Casts, setCasts] = useState([]);\r\n  const [ActorToggle, setActorToggle] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // [영화 정보]\r\n    const endpointInfo = `${API_URL}${movieId}?api_key=${API_KEY}`;\r\n    // console.log(endpointInfo);\r\n\r\n    // [출연진] 영화에 출연한 배우들의 정보\r\n    const endpointCrew = `${API_URL}${movieId}/credits?api_key=${API_KEY}`;\r\n    // console.log('endpointCrew >>', endpointCrew);\r\n\r\n    fetch(endpointInfo)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        // console.log(response)\r\n        setMovie(response)\r\n      })\r\n\r\n    fetch(endpointCrew)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log(response.cast)\r\n        setCasts(response.cast)\r\n      })\r\n\r\n  }, []);\r\n\r\n  // 버튼\r\n  function handleUseHistory() {\r\n    navigate('/homework');\r\n  }\r\n\r\n  function toggleActorView() {\r\n    setActorToggle(!ActorToggle);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Header */}\r\n      <MainImage\r\n        image={`${IMAGE_BASE_URL}w1280${Movie.poster_path}`}\r\n        title={Movie.title}\r\n        overview={Movie.overview}\r\n      />\r\n      {/* Body */}\r\n      <div style={{ textAlign: 'center', marginTop: '20px' }}>\r\n        <Button onClick={handleUseHistory}>영화 목록</Button>\r\n      </div>\r\n\r\n      <div style={{ width: '85%', margin: '20px auto' }}>\r\n        {/* Movie Info */}\r\n        <MovieInfo movie={Movie} />\r\n\r\n        {/* Actors Grid */}\r\n        <div style={{ textAlign: 'center', margin: '20px 0' }}>\r\n          <Button onClick={toggleActorView}>배우 목록</Button>\r\n        </div>\r\n\r\n        {/* Movie Grid Card */}\r\n        {ActorToggle &&\r\n          <Row gutter={[10, 10]}>\r\n            {Casts.map((cast, index) => {\r\n              return (cast.profile_path &&\r\n                <React.Fragment key={index}>\r\n                  <AntCard\r\n                    path={`${IMAGE_BASE_URL}w400${cast.profile_path}`}\r\n                    castName={cast.name}\r\n                  />\r\n                </React.Fragment>);\r\n            })}\r\n          </Row>}\r\n\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Detail\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}