{"ast":null,"code":"import _toConsumableArray from\"C:/Users/jb_kr/homework/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/jb_kr/homework/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{API_KEY,API_URL,IMAGE_BASE_URL}from'../../Config';import MainImage from'../MainImage/MainImage';import{Row,Button,Space}from'antd';import GridCard from'../Commons/GridCard';import AntCard from'../Commons/AntCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LandingPage(){// [state] =================================================================\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),Movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),CurrentPage=_useState4[0],setCurrentPage=_useState4[1];// 페이지의 첫 번째 영화 정보 저장\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),MainMovieImage=_useState6[0],setMainMovieImage=_useState6[1];useEffect(function(){var page=1;fetchMovies(page);},[]);// [button] =================================================================\nvar loadMoreItems=function loadMoreItems(){fetchMovies(CurrentPage+1);};function fetchMovies(page){var endpoint=\"\".concat(API_URL,\"popular?api_key=\").concat(API_KEY,\"&language=en-US&page=\").concat(page);fetch(endpoint).then(function(response){return response.json();}).then(function(response){console.log(response);setMovies([].concat(_toConsumableArray(Movies),_toConsumableArray(response.results)));setMainMovieImage(response.results[0]);setCurrentPage(response.page);});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%'},children:[MainMovieImage&&/*#__PURE__*/_jsx(MainImage,{image:\"\".concat(IMAGE_BASE_URL,\"w1280\").concat(MainMovieImage.poster_path),title:MainMovieImage.title,overview:MainMovieImage.overview}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'85%',margin:'1rem auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC778\\uAE30 \\uC601\\uD654\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Row,{gutter:[10,10],children:Movies&&Movies.map(function(movie,index){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(AntCard,{landingPage:true,path:\"\".concat(IMAGE_BASE_URL,\"w400\").concat(movie.poster_path),title:movie.title,movieId:movie.id})},index);})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Button,{onClick:loadMoreItems,children:\"\\uB354\\uBCF4\\uAE30\"})})]})});}export default LandingPage;","map":{"version":3,"names":["React","useEffect","useState","API_KEY","API_URL","IMAGE_BASE_URL","MainImage","Row","Button","Space","GridCard","AntCard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LandingPage","_useState","_useState2","_slicedToArray","Movies","setMovies","_useState3","_useState4","CurrentPage","setCurrentPage","_useState5","_useState6","MainMovieImage","setMainMovieImage","page","fetchMovies","loadMoreItems","endpoint","concat","fetch","then","response","json","console","log","_toConsumableArray","results","children","style","width","image","poster_path","title","overview","margin","gutter","map","movie","index","landingPage","path","movieId","id","display","justifyContent","onClick"],"sources":["C:/Users/jb_kr/homework/src/components/view/LandingPage/LandingPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { API_KEY, API_URL, IMAGE_BASE_URL } from '../../Config';\r\nimport MainImage from '../MainImage/MainImage';\r\nimport { Row, Button, Space } from 'antd';\r\nimport GridCard from '../Commons/GridCard';\r\nimport AntCard from '../Commons/AntCard';\r\n\r\nfunction LandingPage() {\r\n\r\n  // [state] =================================================================\r\n  const [Movies, setMovies] = useState([]);\r\n  const [CurrentPage, setCurrentPage] = useState(0);\r\n\r\n  // 페이지의 첫 번째 영화 정보 저장\r\n  const [MainMovieImage, setMainMovieImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const page = 1;\r\n    fetchMovies(page);\r\n  }, []);\r\n\r\n  // [button] =================================================================\r\n  const loadMoreItems = () => {\r\n    fetchMovies(CurrentPage+1);\r\n  };\r\n\r\n  function fetchMovies(page) {\r\n    const endpoint = `${API_URL}popular?api_key=${API_KEY}&language=en-US&page=${page}`;\r\n\r\n    fetch(endpoint)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        console.log(response);\r\n        setMovies([...Movies, ...response.results]);\r\n        setMainMovieImage(response.results[0]);\r\n        setCurrentPage(response.page);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div style={{ width: '100%' }}>\r\n        {/* Main Image */}\r\n        {MainMovieImage &&\r\n          <MainImage\r\n            image={`${IMAGE_BASE_URL}w1280${MainMovieImage.poster_path}`}\r\n            title={MainMovieImage.title}\r\n            overview={MainMovieImage.overview}\r\n          />\r\n          \r\n        }\r\n        <div style={{ width: '85%', margin: '1rem auto' }}>\r\n          <h2>인기 영화</h2>\r\n          <hr />\r\n\r\n          {/* Movie Grid Card */}\r\n          <Row gutter={[10, 10]}>\r\n            {Movies && Movies.map((movie, index) => {\r\n              return (\r\n                <React.Fragment key={index}>\r\n                  <AntCard\r\n                    landingPage={true}\r\n                    path={`${IMAGE_BASE_URL}w400${movie.poster_path}`}\r\n                    title={movie.title}\r\n                    movieId={movie.id}\r\n                  />\r\n                </React.Fragment>);\r\n            })}\r\n          </Row>\r\n        </div>\r\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n          <Button onClick={loadMoreItems}>더보기</Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default LandingPage\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}